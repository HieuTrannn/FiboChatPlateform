2025-10-24 14:45:02.34 +07:00  [INF] 
2025-10-24 14:45:02.55 +07:00  [INF] 
2025-10-24 14:45:02.55 +07:00  [INF] 
2025-10-24 14:45:02.55 +07:00  [INF] 
2025-10-24 14:45:02.55 +07:00  [INF] 
2025-10-24 14:45:02.56 +07:00  [INF] 
2025-10-24 14:45:14.38 +07:00  [INF] 
2025-10-24 14:45:14.77 +07:00  [INF] 
2025-10-24 14:46:00.64 +07:00  [INF] 
2025-10-24 14:46:02.58 +07:00  [INF] 
2025-10-24 14:46:02.61 +07:00  [INF] 
2025-10-24 14:46:03.58 +07:00  [WRN] 
2025-10-24 14:46:04.49 +07:00  [INF] 
2025-10-24 14:46:04.59 +07:00  [INF] 
2025-10-24 14:46:04.64 +07:00  [INF] 
2025-10-24 14:46:04.65 +07:00  [INF] 
2025-10-24 14:46:04.66 +07:00  [INF] 
2025-10-24 14:46:04.67 +07:00  [INF] 
2025-10-24 14:46:39.76 +07:00  [INF] 
2025-10-24 14:46:39.83 +07:00  [INF] 
2025-10-24 14:46:39.89 +07:00  [INF] 
2025-10-24 14:46:39.90 +07:00  [INF] 
2025-10-24 14:46:39.90 +07:00  [INF] 
2025-10-24 14:46:39.90 +07:00  [INF] 
2025-10-24 14:46:39.90 +07:00  [INF] 
2025-10-24 14:46:39.92 +07:00  [INF] 
2025-10-24 14:46:39.92 +07:00  [INF] 
2025-10-24 14:46:40.02 +07:00  [INF] 
2025-10-24 14:46:40.04 +07:00  [INF] 
2025-10-24 14:46:40.05 +07:00  [INF] 
2025-10-24 14:46:41.28 +07:00  [INF] 
2025-10-24 14:46:41.31 +07:00  [INF] 
2025-10-24 14:46:41.32 +07:00  [INF] 
2025-10-24 14:46:41.33 +07:00  [INF] 
2025-10-24 14:46:45.72 +07:00  [INF] 
2025-10-24 14:46:45.75 +07:00  [INF] 
2025-10-24 14:46:45.75 +07:00  [INF] 
2025-10-24 14:46:46.01 +07:00  [INF] 
2025-10-24 14:46:46.05 +07:00  [INF] 
2025-10-24 14:46:46.08 +07:00  [INF] 
2025-10-24 14:46:46.09 +07:00  [INF] 
2025-10-24 14:46:46.10 +07:00  [INF] 
2025-10-24 14:46:46.11 +07:00  [INF] 
2025-10-24 14:47:28.26 +07:00  [INF] 
2025-10-24 14:47:28.27 +07:00  [INF] 
2025-10-24 14:47:28.27 +07:00  [INF] 
2025-10-24 14:47:28.28 +07:00  [INF] 
2025-10-24 14:47:28.66 +07:00  [INF] 
2025-10-24 14:47:28.68 +07:00  [INF] 
2025-10-24 14:47:28.69 +07:00  [INF] 
2025-10-24 14:47:28.69 +07:00  [INF] 
2025-10-24 14:47:28.70 +07:00  [INF] 
2025-10-24 14:47:28.70 +07:00  [INF] 
2025-10-24 14:47:51.76 +07:00  [INF] 
2025-10-24 14:47:51.76 +07:00  [INF] 
2025-10-24 14:47:51.79 +07:00  [INF] 
2025-10-24 14:47:52.20 +07:00  [INF] 
2025-10-24 14:47:52.20 +07:00  [INF] 
2025-10-24 14:47:52.23 +07:00  [INF] 
2025-10-24 14:47:52.23 +07:00  [INF] 
2025-10-24 14:47:52.23 +07:00  [INF] 
2025-10-24 14:47:52.24 +07:00  [INF] 
2025-10-24 14:48:02.67 +07:00  [INF] 
2025-10-24 14:48:02.68 +07:00  [INF] 
2025-10-24 14:48:02.68 +07:00  [INF] 
2025-10-24 14:48:02.73 +07:00  [INF] 
2025-10-24 14:48:02.74 +07:00  [INF] 
2025-10-24 14:48:02.75 +07:00  [INF] 
2025-10-24 14:48:02.75 +07:00  [INF] 
2025-10-24 14:48:02.75 +07:00  [INF] 
2025-10-24 14:48:02.76 +07:00  [INF] 
2025-10-24 14:48:25.92 +07:00  [INF] 
2025-10-24 14:48:25.93 +07:00  [INF] 
2025-10-24 14:48:25.93 +07:00  [INF] 
2025-10-24 14:48:25.94 +07:00  [INF] 
2025-10-24 14:48:26.02 +07:00  [INF] 
2025-10-24 14:48:26.03 +07:00  [INF] 
2025-10-24 14:48:26.04 +07:00  [INF] 
2025-10-24 14:48:26.05 +07:00  [INF] 
2025-10-24 14:48:26.05 +07:00  [INF] 
2025-10-24 14:48:26.06 +07:00  [INF] 
2025-10-24 14:48:32.31 +07:00  [INF] 
2025-10-24 14:48:32.32 +07:00  [INF] 
2025-10-24 14:48:32.32 +07:00  [INF] 
2025-10-24 14:48:32.32 +07:00  [INF] 
2025-10-24 14:48:32.34 +07:00  [INF] 
2025-10-24 14:48:32.34 +07:00  [INF] 
2025-10-24 14:48:32.34 +07:00  [INF] 
2025-10-24 14:48:32.34 +07:00  [INF] 
2025-10-24 14:48:32.35 +07:00  [INF] 
2025-10-24 14:51:01.51 +07:00  [INF] 
2025-10-24 14:51:01.51 +07:00  [INF] 
2025-10-24 14:51:01.51 +07:00  [INF] 
2025-10-24 14:51:01.52 +07:00  [INF] 
2025-10-24 14:51:01.59 +07:00  [INF] 
2025-10-24 14:51:01.60 +07:00  [INF] 
2025-10-24 14:51:01.61 +07:00  [INF] 
2025-10-24 14:51:01.61 +07:00  [INF] 
2025-10-24 14:51:02.19 +07:00  [INF] 
2025-10-24 14:51:02.20 +07:00  [INF] 
2025-10-24 14:51:02.20 +07:00  [INF] 
2025-10-24 14:51:02.21 +07:00  [INF] 
2025-10-24 14:51:02.35 +07:00  [INF] 
2025-10-24 14:51:02.44 +07:00  [INF] 
2025-10-24 14:51:02.46 +07:00  [INF] 
2025-10-24 14:51:02.48 +07:00  [INF] 
2025-10-24 14:51:02.49 +07:00  [INF] 
2025-10-24 14:51:02.49 +07:00  [INF] 
2025-10-24 14:51:02.53 +07:00  [INF] 
2025-10-24 14:51:02.53 +07:00  [INF] 
2025-10-24 14:51:02.54 +07:00  [INF] 
2025-10-24 14:51:02.54 +07:00  [INF] 
2025-10-24 14:51:02.55 +07:00  [INF] 
2025-10-24 14:51:02.55 +07:00  [INF] 
2025-10-24 14:51:02.61 +07:00  [INF] 
2025-10-24 14:51:02.61 +07:00  [INF] 
2025-10-24 14:51:02.62 +07:00  [INF] 
2025-10-24 14:51:02.63 +07:00  [INF] 
2025-10-24 14:51:02.63 +07:00  [INF] 
2025-10-24 14:51:02.63 +07:00  [INF] 
2025-10-24 14:51:02.64 +07:00  [INF] 
2025-10-24 14:51:45.72 +07:00  [INF] 
2025-10-24 14:51:45.95 +07:00  [INF] 
2025-10-24 14:51:45.95 +07:00  [INF] 
2025-10-24 14:51:45.98 +07:00  [INF] 
2025-10-24 14:51:46.12 +07:00  [INF] 
2025-10-24 14:51:46.18 +07:00  [INF] 
2025-10-24 14:51:46.24 +07:00  [ERR] 
2025-10-24 14:51:46.30 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 14:51:46.35 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Course.Infrastructure.Implements.GenericRepository`1.InsertAsync(T entity) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Infrastructure\Implements\GenericRepository.cs:line 88
   at Course.Application.Implements.TopicService.CreateAsync(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\TopicService.cs:line 81
   at Course.Api.Controllers.TopicController.CreateTopic(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Api\Controllers\TopicController.cs:line 73
2025-10-24 14:51:46.49 +07:00  [INF] 
2025-10-24 14:51:46.49 +07:00  [INF] 
2025-10-24 14:51:46.50 +07:00  [INF] 
2025-10-24 14:51:46.50 +07:00  [ERR] 
2025-10-24 14:51:46.50 +07:00  [INF] 
2025-10-24 14:52:45.83 +07:00  [INF] 
2025-10-24 14:52:45.88 +07:00  [INF] 
2025-10-24 14:52:45.92 +07:00  [INF] 
2025-10-24 14:52:45.98 +07:00  [INF] 
2025-10-24 14:52:46.03 +07:00  [INF] 
2025-10-24 14:52:46.06 +07:00  [INF] 
2025-10-24 14:52:46.06 +07:00  [INF] 
2025-10-24 14:52:46.07 +07:00  [INF] 
2025-10-24 14:52:46.13 +07:00  [INF] 
2025-10-24 14:52:46.13 +07:00  [INF] 
2025-10-24 14:52:46.14 +07:00  [INF] 
2025-10-24 14:52:46.14 +07:00  [INF] 
2025-10-24 14:52:46.15 +07:00  [INF] 
2025-10-24 14:52:46.15 +07:00  [INF] 
2025-10-24 14:52:46.22 +07:00  [INF] 
2025-10-24 14:52:46.22 +07:00  [INF] 
2025-10-24 14:52:46.23 +07:00  [INF] 
2025-10-24 14:52:46.23 +07:00  [INF] 
2025-10-24 14:52:46.23 +07:00  [INF] 
2025-10-24 14:52:46.24 +07:00  [INF] 
2025-10-24 14:52:46.24 +07:00  [INF] 
2025-10-24 14:53:01.42 +07:00  [INF] 
2025-10-24 14:53:01.42 +07:00  [INF] 
2025-10-24 14:53:01.43 +07:00  [INF] 
2025-10-24 14:53:01.43 +07:00  [INF] 
2025-10-24 14:53:01.43 +07:00  [INF] 
2025-10-24 14:53:01.49 +07:00  [INF] 
2025-10-24 14:53:01.58 +07:00  [ERR] 
2025-10-24 14:53:01.61 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 14:53:01.66 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Course.Infrastructure.Implements.GenericRepository`1.InsertAsync(T entity) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Infrastructure\Implements\GenericRepository.cs:line 88
   at Course.Application.Implements.TopicService.CreateAsync(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\TopicService.cs:line 81
   at Course.Api.Controllers.TopicController.CreateTopic(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Api\Controllers\TopicController.cs:line 73
2025-10-24 14:53:01.69 +07:00  [INF] 
2025-10-24 14:53:01.69 +07:00  [INF] 
2025-10-24 14:53:01.69 +07:00  [INF] 
2025-10-24 14:53:01.70 +07:00  [ERR] 
2025-10-24 14:53:01.70 +07:00  [INF] 
2025-10-24 14:54:25.45 +07:00  [INF] 
2025-10-24 14:55:01.64 +07:00  [INF] 
2025-10-24 14:55:02.17 +07:00  [INF] 
2025-10-24 14:55:02.18 +07:00  [INF] 
2025-10-24 14:55:02.18 +07:00  [INF] 
2025-10-24 14:55:02.18 +07:00  [INF] 
2025-10-24 14:55:02.19 +07:00  [INF] 
2025-10-24 14:55:08.06 +07:00  [INF] 
2025-10-24 14:55:08.21 +07:00  [INF] 
2025-10-24 14:55:08.28 +07:00  [INF] 
2025-10-24 14:55:08.32 +07:00  [INF] 
2025-10-24 14:55:09.72 +07:00  [WRN] 
2025-10-24 14:55:11.02 +07:00  [INF] 
2025-10-24 14:55:11.26 +07:00  [INF] 
2025-10-24 14:55:11.48 +07:00  [ERR] 
2025-10-24 14:55:11.51 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-24 14:55:11.54 +07:00  [ERR] 
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Topics" violates foreign key constraint "FK_Topics_MasterTopics_MasterTopicId1"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Topics
    ConstraintName: FK_Topics_MasterTopics_MasterTopicId1
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Course.Infrastructure.Implements.GenericRepository`1.InsertAsync(T entity) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Infrastructure\Implements\GenericRepository.cs:line 88
   at Course.Application.Implements.TopicService.CreateAsync(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\TopicService.cs:line 81
   at Course.Api.Controllers.TopicController.CreateTopic(TopicCreateRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Api\Controllers\TopicController.cs:line 73
2025-10-24 14:55:11.59 +07:00  [INF] 
2025-10-24 14:55:11.63 +07:00  [INF] 
2025-10-24 14:55:11.64 +07:00  [INF] 
2025-10-24 14:55:11.64 +07:00  [ERR] 
2025-10-24 14:55:11.65 +07:00  [INF] 
2025-10-24 14:58:31.42 +07:00  [INF] 
2025-10-24 14:59:44.69 +07:00  [INF] 
2025-10-24 14:59:45.21 +07:00  [INF] 
2025-10-24 14:59:45.29 +07:00  [INF] 
2025-10-24 14:59:45.30 +07:00  [INF] 
2025-10-24 14:59:45.30 +07:00  [INF] 
2025-10-24 14:59:45.31 +07:00  [INF] 
2025-10-24 14:59:54.95 +07:00  [INF] 
2025-10-24 14:59:55.08 +07:00  [INF] 
2025-10-24 14:59:55.13 +07:00  [INF] 
2025-10-24 14:59:55.18 +07:00  [INF] 
2025-10-24 14:59:58.34 +07:00  [INF] 
2025-10-24 14:59:58.52 +07:00  [INF] 
2025-10-24 14:59:58.75 +07:00  [INF] 
2025-10-24 14:59:58.77 +07:00  [INF] 
2025-10-24 14:59:58.78 +07:00  [INF] 
2025-10-24 14:59:58.83 +07:00  [INF] 
2025-10-24 14:59:58.84 +07:00  [INF] 
2025-10-24 14:59:58.85 +07:00  [INF] 
2025-10-24 14:59:58.86 +07:00  [INF] 
2025-10-24 15:00:07.56 +07:00  [INF] 
2025-10-24 15:00:07.57 +07:00  [INF] 
2025-10-24 15:00:07.58 +07:00  [INF] 
2025-10-24 15:00:07.71 +07:00  [INF] 
2025-10-24 15:00:07.72 +07:00  [INF] 
2025-10-24 15:00:07.74 +07:00  [INF] 
2025-10-24 15:00:07.74 +07:00  [INF] 
2025-10-24 15:00:07.74 +07:00  [INF] 
2025-10-24 15:00:07.75 +07:00  [INF] 
2025-10-24 15:05:34.36 +07:00  [INF] 
2025-10-24 15:05:46.76 +07:00  [INF] 
2025-10-24 15:05:47.11 +07:00  [INF] 
2025-10-24 15:05:47.12 +07:00  [INF] 
2025-10-24 15:05:47.12 +07:00  [INF] 
2025-10-24 15:05:47.12 +07:00  [INF] 
2025-10-24 15:05:47.12 +07:00  [INF] 
2025-10-24 15:07:34.00 +07:00  [INF] 
2025-10-24 15:07:40.69 +07:00  [INF] 
2025-10-24 15:07:40.95 +07:00  [INF] 
2025-10-24 15:07:40.96 +07:00  [INF] 
2025-10-24 15:07:40.97 +07:00  [INF] 
2025-10-24 15:07:40.97 +07:00  [INF] 
2025-10-24 15:07:40.97 +07:00  [INF] 
2025-10-24 15:07:42.55 +07:00  [INF] 
2025-10-24 15:07:42.87 +07:00  [INF] 
2025-10-24 15:07:44.54 +07:00  [INF] 
2025-10-24 15:07:45.03 +07:00  [INF] 
2025-10-24 15:15:01.49 +07:00  [INF] 
2025-10-24 15:15:01.57 +07:00  [INF] 
2025-10-24 15:15:01.62 +07:00  [INF] 
2025-10-24 15:15:03.80 +07:00  [INF] 
2025-10-24 15:15:04.05 +07:00  [INF] 
2025-10-24 15:15:04.11 +07:00  [INF] 
2025-10-24 15:15:04.11 +07:00  [INF] 
2025-10-24 15:15:04.12 +07:00  [INF] 
2025-10-24 15:15:04.13 +07:00  [INF] 
2025-10-24 15:15:14.79 +07:00  [INF] 
2025-10-24 15:15:14.80 +07:00  [INF] 
2025-10-24 15:15:14.81 +07:00  [INF] 
2025-10-24 15:15:15.00 +07:00  [INF] 
2025-10-24 15:15:15.06 +07:00  [INF] 
2025-10-24 15:15:15.09 +07:00  [INF] 
2025-10-24 15:15:15.10 +07:00  [INF] 
2025-10-24 15:15:15.10 +07:00  [INF] 
2025-10-24 15:15:15.11 +07:00  [INF] 
2025-10-24 15:16:19.19 +07:00  [INF] 
2025-10-24 15:16:19.20 +07:00  [INF] 
2025-10-24 15:16:19.21 +07:00  [INF] 
2025-10-24 15:16:19.23 +07:00  [INF] 
2025-10-24 15:16:19.24 +07:00  [INF] 
2025-10-24 15:16:19.24 +07:00  [INF] 
2025-10-24 15:16:19.24 +07:00  [ERR] 
System.InvalidOperationException: Unable to resolve service for type 'Course.Application.Interfaces.IDocumentService' while attempting to activate 'Course.Api.Controllers.DocumentController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method151(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project.SharedLibrary.MiddleWare.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\cores\SharedLibrary\Middleware\GlobalExceptionMiddleware.cs:line 34
2025-10-24 15:16:19.31 +07:00  [ERR] 
2025-10-24 15:16:19.31 +07:00  [INF] 
2025-10-24 15:16:19.32 +07:00  [INF] 
2025-10-24 15:18:35.46 +07:00  [INF] 
2025-10-24 15:19:32.11 +07:00  [INF] 
2025-10-24 15:19:32.35 +07:00  [INF] 
2025-10-24 15:19:32.36 +07:00  [INF] 
2025-10-24 15:19:32.36 +07:00  [INF] 
2025-10-24 15:19:32.36 +07:00  [INF] 
2025-10-24 15:19:32.36 +07:00  [INF] 
2025-10-24 15:19:38.42 +07:00  [INF] 
2025-10-24 15:19:38.60 +07:00  [INF] 
2025-10-24 15:19:38.66 +07:00  [INF] 
2025-10-24 15:19:38.72 +07:00  [INF] 
2025-10-24 15:19:39.09 +07:00  [INF] 
2025-10-24 15:19:39.13 +07:00  [INF] 
2025-10-24 15:19:39.13 +07:00  [ERR] 
System.InvalidOperationException: Firebase configuration is missing. Please set Firebase:ProjectId, Firebase:PrivateKey, and Firebase:ClientEmail in your configuration.
   at Course.Application.Implements.FirebaseService..ctor(IConfiguration configuration, ILogger`1 logger) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 24
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Project.SharedLibrary.MiddleWare.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\cores\SharedLibrary\Middleware\GlobalExceptionMiddleware.cs:line 34
2025-10-24 15:19:39.24 +07:00  [ERR] 
2025-10-24 15:19:39.25 +07:00  [INF] 
2025-10-24 15:19:39.26 +07:00  [INF] 
2025-10-24 15:45:57.27 +07:00  [INF] 
2025-10-24 15:46:21.80 +07:00  [INF] 
2025-10-24 15:46:22.12 +07:00  [INF] 
2025-10-24 15:46:22.12 +07:00  [INF] 
2025-10-24 15:46:22.13 +07:00  [INF] 
2025-10-24 15:46:22.13 +07:00  [INF] 
2025-10-24 15:46:22.13 +07:00  [INF] 
2025-10-24 15:54:35.58 +07:00  [INF] 
2025-10-24 15:54:35.72 +07:00  [INF] 
2025-10-24 15:54:35.77 +07:00  [INF] 
2025-10-24 15:54:35.81 +07:00  [INF] 
2025-10-24 15:54:36.81 +07:00  [INF] 
2025-10-24 15:54:39.08 +07:00  [INF] 
2025-10-24 15:54:39.29 +07:00  [INF] 
2025-10-24 15:54:39.33 +07:00  [INF] 
2025-10-24 15:54:39.33 +07:00  [INF] 
2025-10-24 15:54:43.20 +07:00  [INF] 
2025-10-24 15:54:43.22 +07:00  [INF] 
2025-10-24 15:54:43.30 +07:00  [INF] 
2025-10-24 15:54:43.30 +07:00  [INF] 
2025-10-24 15:54:43.50 +07:00  [INF] 
2025-10-24 15:54:43.51 +07:00  [INF] 
2025-10-24 15:54:44.05 +07:00  [ERR] 
Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
2025-10-24 15:54:44.09 +07:00  [ERR] 
System.InvalidOperationException: Error uploading document to Firebase Storage.
 ---> Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
   --- End of inner exception stack trace ---
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 104
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 184
2025-10-24 15:54:44.11 +07:00  [ERR] 
Course.Domain.Exceptions.CustomExceptions+BusinessLogicException: Error uploading document
 ---> System.InvalidOperationException: Error uploading document to Firebase Storage.
 ---> Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
   --- End of inner exception stack trace ---
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 104
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 184
   --- End of inner exception stack trace ---
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 231
   at Course.Api.Controllers.DocumentController.Upload(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Api\Controllers\DocumentController.cs:line 114
2025-10-24 15:54:44.15 +07:00  [INF] 
2025-10-24 15:54:44.17 +07:00  [INF] 
2025-10-24 15:54:44.17 +07:00  [INF] 
2025-10-24 15:54:44.18 +07:00  [ERR] 
2025-10-24 15:54:44.21 +07:00  [INF] 
2025-10-24 16:08:02.44 +07:00  [INF] 
2025-10-24 16:08:02.46 +07:00  [INF] 
2025-10-24 16:08:02.47 +07:00  [INF] 
2025-10-24 16:08:02.47 +07:00  [INF] 
2025-10-24 16:08:02.53 +07:00  [INF] 
2025-10-24 16:08:02.76 +07:00  [INF] 
2025-10-24 16:08:02.77 +07:00  [INF] 
2025-10-24 16:08:02.77 +07:00  [INF] 
2025-10-24 16:08:02.78 +07:00  [INF] 
2025-10-24 16:08:03.00 +07:00  [INF] 
2025-10-24 16:08:03.00 +07:00  [INF] 
2025-10-24 16:08:03.01 +07:00  [INF] 
2025-10-24 16:08:03.01 +07:00  [INF] 
2025-10-24 16:08:03.06 +07:00  [INF] 
2025-10-24 16:08:03.06 +07:00  [INF] 
2025-10-24 16:08:03.35 +07:00  [ERR] 
Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
2025-10-24 16:08:03.37 +07:00  [ERR] 
System.InvalidOperationException: Error uploading document to Firebase Storage.
 ---> Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
   --- End of inner exception stack trace ---
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 104
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 184
2025-10-24 16:08:03.39 +07:00  [ERR] 
Course.Domain.Exceptions.CustomExceptions+BusinessLogicException: Error uploading document
 ---> System.InvalidOperationException: Error uploading document to Firebase Storage.
 ---> Google.Apis.Auth.OAuth2.Responses.TokenResponseException: Error:"invalid_grant", Description:"Invalid JWT Signature.", Uri:""
   at Google.Apis.Auth.OAuth2.Responses.TokenResponse.FromHttpResponseAsync(HttpResponseMessage response, IClock clock, ILogger logger)
   at Google.Apis.Auth.OAuth2.Requests.RequestExtensions.PostFormAsync(Object request, HttpClient httpClient, String url, AuthenticationHeaderValue authenticationHeaderValue, IClock clock, ILogger logger, CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.RequestAccessTokenAsync(CancellationToken taskCancellationToken)
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.RefreshTokenAsync()
   at Google.Apis.Auth.TaskExtensions.<>c__DisplayClass0_0`1.<<WithCancellationToken>g__ImplAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Google.Apis.Auth.OAuth2.TokenRefreshManager.GetAccessTokenForRequestAsync(CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceAccountCredential.GetAccessTokenForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.GetAccessTokenWithHeadersForRequestAsync(String authUri, CancellationToken cancellationToken)
   at Google.Apis.Auth.OAuth2.ServiceCredential.InterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.CredentialInterceptAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Google.Apis.Http.ConfigurableMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Google.Apis.Upload.ResumableUpload`1.InitiateSessionAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.ResumableUpload.UploadAsync(CancellationToken cancellationToken)
   at Google.Apis.Upload.UploadProgress.ThrowOnFailure(IUploadProgress progress)
   at Google.Cloud.Storage.V1.StorageClientImpl.UploadHelper.ExecuteAsync(CancellationToken cancellationToken)
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 83
   --- End of inner exception stack trace ---
   at Course.Application.Implements.FirebaseService.UploadDocumentAsync(Stream fileStream, String fileName) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\FirebaseService.cs:line 104
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 184
   --- End of inner exception stack trace ---
   at Course.Application.Implements.DocumentService.UploadAsync(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Application\Implements\DocumentService.cs:line 231
   at Course.Api.Controllers.DocumentController.Upload(DocumentUploadRequest request) in D:\LEARNING\S7FA25\SWD392\FiboChatPlatform\services\Course\Course.Api\Controllers\DocumentController.cs:line 114
2025-10-24 16:08:03.41 +07:00  [INF] 
2025-10-24 16:08:03.41 +07:00  [INF] 
2025-10-24 16:08:03.42 +07:00  [INF] 
2025-10-24 16:08:03.42 +07:00  [ERR] 
2025-10-24 16:08:03.43 +07:00  [INF] 
2025-10-24 16:11:54.64 +07:00  [INF] 
